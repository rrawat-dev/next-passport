{"ast":null,"code":"var passport = require('passport');\n\nvar LocalStrategy = require('passport-local').Strategy;\n\npassport.use(new LocalStrategy(function (username, password, done) {\n  return done(null, {\n    id: 'xxx'\n  });\n}));\npassport.serializeUser(function (user, done) {\n  done(null, user.id);\n});\npassport.deserializeUser(function (id, done) {\n  done(err, {\n    id: 'xxx'\n  });\n});\nexport default passport.authenticate('local', {}, (req, res) => {\n  console.log(req.user);\n  res.send(123);\n});","map":{"version":3,"sources":["/Users/rakrawat/workspace/next-passport/pages/api/login.js"],"names":["passport","require","LocalStrategy","Strategy","use","username","password","done","id","serializeUser","user","deserializeUser","err","authenticate","req","res","console","log","send"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,IAAIC,aAAa,GAAGD,OAAO,CAAC,gBAAD,CAAP,CAA0BE,QAA9C;;AAEAH,QAAQ,CAACI,GAAT,CAAa,IAAIF,aAAJ,CACX,UAASG,QAAT,EAAmBC,QAAnB,EAA6BC,IAA7B,EAAmC;AACjC,SAAOA,IAAI,CAAC,IAAD,EAAO;AAACC,IAAAA,EAAE,EAAE;AAAL,GAAP,CAAX;AACD,CAHU,CAAb;AAMAR,QAAQ,CAACS,aAAT,CAAuB,UAASC,IAAT,EAAeH,IAAf,EAAqB;AACxCA,EAAAA,IAAI,CAAC,IAAD,EAAOG,IAAI,CAACF,EAAZ,CAAJ;AACD,CAFH;AAIER,QAAQ,CAACW,eAAT,CAAyB,UAASH,EAAT,EAAaD,IAAb,EAAmB;AAExCA,EAAAA,IAAI,CAACK,GAAD,EAAM;AAACJ,IAAAA,EAAE,EAAE;AAAL,GAAN,CAAJ;AAEH,CAJD;AAOF,eAAeR,QAAQ,CAACa,YAAT,CACX,OADW,EAEX,EAFW,EAGX,CAACC,GAAD,EAAMC,GAAN,KAAc;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACJ,IAAhB;AACAK,EAAAA,GAAG,CAACG,IAAJ,CAAS,GAAT;AACH,CANU,CAAf","sourcesContent":["var passport = require('passport');\nvar LocalStrategy = require('passport-local').Strategy;\n\npassport.use(new LocalStrategy(\n  function(username, password, done) {\n    return done(null, {id: 'xxx'});\n  }\n));\n\npassport.serializeUser(function(user, done) {\n    done(null, user.id);\n  });\n  \n  passport.deserializeUser(function(id, done) {\n\n      done(err, {id: 'xxx'});\n\n  });\n\n\nexport default passport.authenticate(\n    'local',\n    {},\n    (req, res) => {\n        console.log(req.user);\n        res.send(123);\n    }\n);"]},"metadata":{},"sourceType":"module"}